CREATE TABLE application (id INT AUTO_INCREMENT NOT NULL, user_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, description LONGTEXT DEFAULT NULL, price NUMERIC(10, 0) DEFAULT NULL, created_date DATETIME DEFAULT NULL, published TINYINT(1) DEFAULT NULL, published_date DATETIME DEFAULT NULL, version VARCHAR(255) DEFAULT NULL, INDEX IDX_A45BDDC1A76ED395 (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE application_taxonomy (application_id INT NOT NULL, taxonomy_id INT NOT NULL, INDEX IDX_4229672E3E030ACD (application_id), INDEX IDX_4229672E9557E6F6 (taxonomy_id), PRIMARY KEY(application_id, taxonomy_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE taxonomy (id INT AUTO_INCREMENT NOT NULL, parent_id INT DEFAULT NULL, name VARCHAR(255) NOT NULL, description TINYTEXT NOT NULL, active TINYINT(1) NOT NULL, INDEX IDX_FD12B83D727ACA70 (parent_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE user (id INT AUTO_INCREMENT NOT NULL, email_address VARCHAR(255) DEFAULT NULL, full_name VARCHAR(255) DEFAULT NULL, password VARCHAR(255) NOT NULL, created_date DATETIME NOT NULL, active TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE user_role (user_id INT NOT NULL, role_id INT NOT NULL, INDEX IDX_2DE8C6A3A76ED395 (user_id), INDEX IDX_2DE8C6A3D60322AC (role_id), PRIMARY KEY(user_id, role_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE role (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(255) DEFAULT NULL, active INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE application ADD CONSTRAINT FK_A45BDDC1A76ED395 FOREIGN KEY (user_id) REFERENCES user (id);
ALTER TABLE application_taxonomy ADD CONSTRAINT FK_4229672E3E030ACD FOREIGN KEY (application_id) REFERENCES application(id);
ALTER TABLE application_taxonomy ADD CONSTRAINT FK_4229672E9557E6F6 FOREIGN KEY (taxonomy_id) REFERENCES taxonomy (id);
ALTER TABLE taxonomy ADD CONSTRAINT FK_FD12B83D727ACA70 FOREIGN KEY (parent_id) REFERENCES taxonomy (id);
ALTER TABLE user_role ADD CONSTRAINT FK_2DE8C6A3A76ED395 FOREIGN KEY (user_id) REFERENCES user (id);
ALTER TABLE user_role ADD CONSTRAINT FK_2DE8C6A3D60322AC FOREIGN KEY (role_id) REFERENCES role (id);